<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Sign Tyrell's guestbook."/>
    <title>Tyrell's Guestbook</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="/css/bootstrap-reboot.min.css">
    <!-- Tether CSS -->
    <link rel="stylesheet" href="/css/tether.min.css">
    <link rel="stylesheet" href="/css/tether-theme-basic.min.css">
    <link rel="stylesheet" href="/css/tether-theme-arrows.min.css">
    <link rel="stylesheet" href="/css/tether-theme-arrows-dark.min.css">
    <!-- Path to custom app styles-->
    <link rel="stylesheet" href="/css/style.css">
  </head>

  <body>

    <div class="container my-main-container" style="width: 80vw">
      <h1 id="guestbook-title">Sign the Live Guestbook</h1>
      <form method="POST" id="guestbook-form">
        <div class="form-group">
          <label for="gb-form-name" class="sr-only">Name</label><!-- Hidden Label -->
          <input class="form-control gb-form-input col-10" type="text" id="gb-form-name" placeholder="Name (Optional)" name="posterName">
        </div>
        <div id="gb-form-line" class="col-2"></div>
        <div class="form-group">
          <label for="gb-form-msg" class="sr-only">Message</label>
          <textarea class="form-control gb-form-input col-10" type="text" rows="3" id="gb-form-msg" placeholder="Write something to Tyrell..." name="posterMessage" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Post</button>
      </form>
      
      <hr id="guestbook-hr"><!-- horizontal rule -->
      <h1 id="guestbook-title">Previous Posts</h1>
      
      <!-- Streategy
      When a user GETs the page, the DB is queried. The previous entries are sent to the client via handlebars
      When a user POSTS to the page, the DB is updated, and the new post is sent to all connected clients
      -->
      
      {{#each guestbookPosts}}
      <div class="card guestbook-card">
        <div class="card-block">
          <h4 class="card-title guestbook-card-name">{{name}}</h4>
          <h6 class="card-subtitle guestbook-card-date">{{date}}</h6> <!-- alternate format {{formatDate date day="numeric" month="long" year="numeric"}} -->
          <p class="card-text guestbook-card-msg">{{msg}}</p>
        </div>
      </div>
      {{/each}}
      
    </div> <!-- my-main-container -->
    
    <!-- Optional container to override default navbar style -->
    <div class="container navbar-container">
      <nav class="navbar navbar-toggleable-sm navbar-light bg-light">

        <!-- See CSS for positioning details -->
        <a class="navbar-brand" href="/">TM{...}</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navigation" aria-controls="main-navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="main-navigation">
          <div class="navbar-nav">
            <a class="nav-item nav-link" href="home">HOME</a>
            <a class="nav-item nav-link" href="bio">BIO</a>
            <a class="nav-item nav-link" href="projects">PROJECTS</a>
            <a class="nav-item nav-link" href="resume">RESUME</a>
            <a class="nav-item nav-link active" href="guestbook">GUESTBOOK</a>
            <a class="nav-item nav-link" href="contact">CONTACT</a>
          </div>
        </div>

      </nav>
    </div> <!-- navbar-container -->
    
    <!-- jQuery -->
    <script src="js/jquery-3.2.1.slim.min.js"></script>
    <!-- Tether -->
    <script src="js/tether.min.js"></script>
    <!-- Bootstrap -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="js/front_end.js"></script>
  </body>

</html>